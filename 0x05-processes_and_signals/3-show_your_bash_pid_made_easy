#!/usr/bin/env bash
# This script displays the PID and process name of processes whose name contains the word "bash"

# Get a list of directories under /proc corresponding to running processes
proc_dirs=$(find /proc -maxdepth 1 -type d -regex '/proc/[0-9]+')

# Loop through each process directory
for proc_dir in $proc_dirs; do
    # Extract PID from directory path
    pid=$(basename "$proc_dir")
    # Check if cmdline file exists and contains "bash"
    if [ -f "$proc_dir/cmdline" ] && grep -q "bash" "$proc_dir/cmdline"; then
        # Get the process name from cmdline file
        proc_name=$(tr -d '\0' < "$proc_dir/cmdline")
        # Print PID and process name
        echo "$pid $proc_name"
    fi
done
